{"version":3,"sources":["webpack:///./src/app/+admin-registration/admin-registration.module.ts","webpack:///./src/app/+admin-registration/admin-registration.component.ts","webpack:///./src/app/+admin-registration/admin-registration-routing.module.ts","webpack:///./src/app/+admin-registration/admin-registration.component.css","webpack:///./src/app/+admin-registration/admin-registration.component.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACM;AACK;AAE6B;AACT;AAY5E,IAAa,uBAAuB;IAApC;IAAuC,CAAC;IAAD,8BAAC;AAAD,CAAC;AAA3B,uBAAuB;IAVnC,sFAAQ,CAAC;QACR,OAAO,EAAE;YACP,qEAAY;YACZ,mEAAW;YACX,yEAAc;YACd,sEAAgB;YAChB,0GAA8B;SAC/B;QACD,YAAY,EAAE,CAAC,iGAA0B,CAAC;KAC3C,CAAC;GACW,uBAAuB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBgC;AAE3B;AACwB;AACjB;AACI;AACR;AACqC;AACpB;AAS7D,IAAa,0BAA0B;IAMnC,oCACY,cAA8B,EAC9B,MAAc,EACd,YAA0B,EAC1B,iBAA+C,EAC/C,kBAAsC;QAJtC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACd,iBAAY,GAAZ,YAAY,CAAc;QAC1B,sBAAiB,GAAjB,iBAAiB,CAA8B;QAC/C,uBAAkB,GAAlB,kBAAkB,CAAoB;QATlD,cAAS,GAAG,KAAK,CAAC;QAClB,WAAM,GAAG,iBAAiB,CAAC;QAC3B,aAAQ,GAAG,oBAAoB,CAAC;QAChC,YAAO,GAAG,KAAK,CAAC;IAOb,CAAC;IACJ,uDAAkB,GAAlB;QACI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IACD,2CAAM,GAAN,UAAO,UAAU,EAAE,UAAU;QACzB,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,IAAI,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;YAC3C,UAAU,CAAC,KAAK,EAAE,CAAC;QACvB,CAAC;IACL,CAAC;IACD,6CAAQ,GAAR;QACI,IAAI,CAAC,SAAS,GAA6B,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAG,CAAC,OAAO,CAAC;QAC1F,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,CAAC;IAC5C,CAAC;IACD,6CAAQ,GAAR,UAAS,IAAY;QAArB,iBAkDC;QAjDG,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACf,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACf,MAAM,CAAC;QACX,CAAC;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAM,QAAQ,GAA6B,IAAI,CAAC,KAAK,CAAC;QACtD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACjB,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,GAAG,CAAC;QACzC,CAAC;QAAA,IAAI,CAAC,CAAC;YACH,QAAQ,CAAC,IAAI,GAAG,GAAG,CAAC;QACxB,CAAC;QACD,OAAO,QAAQ,CAAC,UAAU,CAAC;QAC3B,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE;YAC3C,MAAM,EAAE,oEAAa,CAAC,IAAI;YAC1B,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;YAC9B,OAAO,EAAE,gEAAW;SACvB,CAAC;aACD,IAAI,CAAC,UAAC,GAAa;YAChB,OAAO,CAAC,GAAG,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;YAClD,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;gBACT,IAAM,SAAS,GAAe,GAAG,CAAC,IAAI,EAAE,CAAC;gBACzC,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;gBAC/C,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;YAC/C,CAAC;YACD,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC;QACjC,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAa;YACjB,IAAI,UAAkB,CAAC;YACvB,IAAI,UAAkD,CAAC;YACvD,IAAM,UAAU,GAAG,cAAM,YAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,EAAE,EAAE,kBAAkB,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EAAhF,CAAgF,CAAC;YAC1G,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;gBACrB,IAAM,YAAY,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;gBAEhC,UAAU,GAAG,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;gBACtD,EAAE,CAAC,CAAQ,UAAW,CAAC,MAAO,CAAC,CAAC,CAAC;oBAC7B,UAAU,GAAG,8BAA8B,CAAC;gBAChD,CAAC;gBAAA,IAAI,CAAC,CAAC;oBACH,MAAM,CAAC,UAAU,EAAE,CAAC;gBACxB,CAAC;YACL,CAAC;YAAA,IAAI,CAAC,CAAC;gBACH,UAAU,EAAE,CAAC;YACjB,CAAC;YACD,KAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,IAAI,gCAAgC,CAAC,CAAC;QACnF,CAAC,CAAC;aACD,IAAI,CAAE,cAAM,YAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC,EAA1D,CAA0D,CAAE,CAAC;IAC9E,CAAC;IACL,iCAAC;AAAD,CAAC;AA5EY,0BAA0B;IALtC,wFAAS,CAAC;QACP,QAAQ,EAAE,oBAAoB;QAC9B,kCAAgD;QAChD,kCAA+C;KAClD,CAAC;yDAQ8B,wEAAc,oBAAd,wEAAc,sDACtB,+DAAM,oBAAN,+DAAM,sDACA,oEAAY,oBAAZ,oEAAY,sDACP,qGAA4B,oBAA5B,qGAA4B,sDAC3B,iFAAkB,oBAAlB,iFAAkB;GAXzC,0BAA0B,CA4EtC;AA5EsC;;;;;;;;;;;;;;;;;;;;ACjBE;AACc;AACqB;AAE5E,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,iGAA0B;KACtC;CACF,CAAC;AAMF,IAAa,8BAA8B;IAA3C;IAA8C,CAAC;IAAD,qCAAC;AAAD,CAAC;AAAlC,8BAA8B;IAJ1C,sFAAQ,CAAC;QACR,OAAO,EAAE,CAAC,qEAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,qEAAY,CAAC;KACxB,CAAC;GACW,8BAA8B,CAAI;AAAJ;;;;;;;;ACf3C;AACA;;;AAGA;AACA,mCAAoC,gCAAgC,yBAAyB,iBAAiB,KAAK,cAAc,mBAAmB,mBAAmB,sBAAsB,KAAK,WAAW,qBAAqB,KAAK,aAAa,uBAAuB,yBAAyB,qBAAqB,kDAAkD,sBAAsB,KAAK,cAAc,mBAAmB,kBAAkB,gCAAgC,KAAK,uCAAuC,gBAAgB,mBAAmB,OAAO,KAAK,cAAc,uBAAuB,KAAK,kBAAkB,kCAAkC,KAAK;;AAEvpB;;;AAGA;AACA,2C;;;;;;;ACXA,+vBAA+vB,uCAAuC,IAAI,qCAAqC,KAAK,sCAAsC,ybAAyb,uCAAuC,IAAI,qCAAqC,KAAK,kCAAkC,kcAAkc,kKAAkK,0uB","file":"1.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MaterialModule } from '@angular/material';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\nimport { AdminRegistrationRoutingModule } from './admin-registration-routing.module';\nimport { AdminRegistrationComponent } from './admin-registration.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    MaterialModule,\n    FlexLayoutModule,\n    AdminRegistrationRoutingModule\n  ],\n  declarations: [AdminRegistrationComponent]\n})\nexport class AdminRegistrationModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/+admin-registration/admin-registration.module.ts","import { Component, OnInit, AfterViewChecked } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { RequestMethod, Headers, Response } from '@angular/http';\r\nimport { ErrorEmmiter } from '../error.service';\r\nimport { BackendService } from '../backend.service';\r\nimport { POST_HEADER } from '../app.config';\r\nimport { AdminCredentialsDataResolver } from '../admin-credentials-data.service';\r\nimport { ProgressBarService } from '../progress-bar.service';\r\nimport { IRegistrationCredentials, IRequestForRegistration, IAdminData } from '../Interfaces';\r\n\r\n\r\n@Component({\r\n    selector: 'app-admin-register',\r\n    templateUrl: 'admin-registration.component.html',\r\n    styleUrls: ['admin-registration.component.css']\r\n})\r\nexport class AdminRegistrationComponent implements OnInit, AfterViewChecked {\r\n    checked: boolean;\r\n    isCanEdit = false;\r\n    fbMess = 'Incorrect input';\r\n    endPoint = '/api/register-new/';\r\n    _isSend = false;\r\n    constructor(\r\n        private backendService: BackendService,\r\n        private router: Router,\r\n        private errorEmmiter: ErrorEmmiter,\r\n        private adminDataResolver: AdminCredentialsDataResolver,\r\n        private progressBarService: ProgressBarService\r\n    ) {}\r\n    ngAfterViewChecked() {\r\n        this.checked = true;\r\n    }\r\n    onBlur(ngInputRef, refOfInput) {\r\n        if (ngInputRef.touched && ngInputRef.invalid) {\r\n            refOfInput.focus();\r\n        }\r\n    }\r\n    ngOnInit() {\r\n        this.isCanEdit = (<IRequestForRegistration>this.adminDataResolver.getAdminData()).canEdit;\r\n        this.adminDataResolver.clearAdminData();\r\n    }\r\n    onSubmit(form: NgForm) {\r\n        if (form.invalid) {\r\n            form.resetForm();\r\n            return;\r\n        }\r\n        if (this._isSend) {\r\n            return;\r\n        }\r\n        this._isSend = true;\r\n        this.progressBarService.emmiter.emit(true);\r\n        const newAdmin: IRegistrationCredentials = form.value;\r\n        if (this.isCanEdit) {\r\n            newAdmin.role = newAdmin.role || 'E';\r\n        }else {\r\n            newAdmin.role = 'O';\r\n        }\r\n        delete newAdmin.repeatPass;\r\n        this.backendService.sendRequest(this.endPoint, {\r\n            method: RequestMethod.Post,\r\n            body: JSON.stringify(newAdmin),\r\n            headers: POST_HEADER\r\n        })\r\n        .then((res: Response) => {\r\n            console.log('AdminRegistrationComponent = ', res);\r\n            if (res.ok) {\r\n                const adminData: IAdminData = res.json();\r\n                this.adminDataResolver.setAdminData(adminData);\r\n                return this.router.navigate(['dashboard']);\r\n            }\r\n            throw new Error('(:0_^_0:)');\r\n        })\r\n        .catch((err: Response) => {\r\n            let errMessage: string;\r\n            let serverInfo: {exists: boolean} | {expired: boolean};\r\n            const navigateFn = () => this.router.navigate(['login'], { skipLocationChange: true, replaceUrl: false });\r\n            if (err.status === 403) {\r\n                const textResponse = err.text();\r\n\r\n                serverInfo = textResponse && JSON.parse(textResponse);\r\n                if ( (<any>serverInfo).exists ) {\r\n                    errMessage = 'This name has already taken!';\r\n                }else {\r\n                    return navigateFn();\r\n                }\r\n            }else {\r\n                navigateFn();\r\n            }\r\n            this.errorEmmiter.emmiter.emit(errMessage || 'Error occured, try again later');\r\n        })\r\n        .then( () => this.progressBarService.emmiter.emit(this._isSend = false) );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/+admin-registration/admin-registration.component.ts","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AdminRegistrationComponent } from './admin-registration.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminRegistrationComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AdminRegistrationRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/+admin-registration/admin-registration-routing.module.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".l__cont {\\r\\n  background-color: #fafafa;\\r\\n  position: relative;\\r\\n  z-index: 0;\\r\\n}\\r\\n.l__wrap {\\r\\n  width: 400px;\\r\\n  margin: auto;\\r\\n  padding: 50px 0;\\r\\n}\\r\\n.l__f {\\r\\n  display: block;\\r\\n}\\r\\n.l__tit {\\r\\n  font-weight: 200;\\r\\n  text-align: center;\\r\\n  color: #00bcd4;\\r\\n  text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.7);\\r\\n  padding: 0 20px;\\r\\n}\\r\\n\\r\\n.btn {\\r\\n  width: 200px;\\r\\n  color: #fff;\\r\\n  text-transform: uppercase;\\r\\n}\\r\\n@media all and (max-width: 500px) {\\r\\n  .l__wrap {\\r\\n    width: 70%;\\r\\n  }\\r\\n}\\r\\n.sub_tit {\\r\\n    color: #ffd740;\\r\\n}\\r\\n.radio-group {\\r\\n    color: rgb(117, 117, 117);\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/+admin-registration/admin-registration.component.css\n// module id = 439\n// module chunks = 1","module.exports = \"<div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center\\\" class=\\\"l__cont\\\">\\r\\n  <div class=\\\"l__wrap\\\">\\r\\n    <div class=\\\"l__tit\\\">\\r\\n      <h1>\\r\\n        Registration of new admin\\r\\n      </h1>\\r\\n    </div>\\r\\n    <div>\\r\\n      <form #f=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(f)\\\" fxLayout=\\\"column\\\" fxLayoutGap=\\\"7%\\\">\\r\\n        <md-input-container [dividerColor]=\\\"ngUserName.touched && ngUserName.invalid ? 'warn' : 'primary'\\\">\\r\\n          <input mdInput #userName (blur)=\\\"onBlur(ngUserName, userName)\\\" placeholder=\\\"Name\\\" name=\\\"userName\\\" ngModel #ngUserName=\\\"ngModel\\\" minlength=\\\"3\\\" maxlength=\\\"20\\\" required>\\r\\n          <md-hint *ngIf=\\\"ngUserName.touched && ngUserName.invalid\\\" [ngStyle]=\\\"userName.validationMessage.length > 30 ? { 'bottom.px': -11, 'color': '#f44336' } : { 'bottom.px': 0, 'color': '#f44336' }\\\">{{userName.validationMessage || fbMess}}</md-hint>\\r\\n        </md-input-container>\\r\\n        <md-input-container [dividerColor]=\\\"ngPass.touched && ngPass.invalid ? 'warn' : 'primary'\\\">\\r\\n          <input mdInput #pass (blur)=\\\"onBlur(ngPass, pass)\\\" type=\\\"password\\\" placeholder=\\\"Password\\\" name=\\\"pass\\\" ngModel #ngPass=\\\"ngModel\\\" minlength=\\\"5\\\" required>\\r\\n          <md-hint *ngIf=\\\"ngPass.touched && ngPass.invalid\\\" [ngStyle]=\\\"pass.validationMessage.length > 30 ? { 'bottom.px': -11, 'color': '#f44336' } : { 'bottom.px': 0, 'color': '#f44336' }\\\">{{pass.validationMessage || fbMess}}</md-hint>\\r\\n        </md-input-container>\\r\\n        <md-input-container [dividerColor]=\\\"ngRepeatPass.touched && ngRepeatPass.invalid || ngRepeatPass.value !== ngPass.value ? 'warn' : 'primary'\\\">\\r\\n          <input mdInput #repeatPass (blur)=\\\"onBlur(ngRepeatPass, repeatPass)\\\" type=\\\"password\\\" placeholder=\\\"Repeat password\\\" name=\\\"repeatPass\\\" ngModel #ngRepeatPass=\\\"ngModel\\\" required>\\r\\n          <md-hint [style.color]=\\\"'#f44336'\\\">{{ (ngRepeatPass.touched && ngRepeatPass.invalid) ? repeatPass.validationMessage || fbMess : (ngRepeatPass.value !== ngPass.value) ? 'Passwords must match!' : '' }}</md-hint>\\r\\n        </md-input-container>\\r\\n        <div *ngIf=\\\"isCanEdit\\\">\\r\\n            <h3 class=\\\"sub_tit\\\">Select Your Role in our business process!</h3>\\r\\n            <md-radio-group class=\\\"radio-group\\\" name=\\\"role\\\" fxLayout=\\\"column\\\" ngModel>\\r\\n                <md-radio-button [checked]=\\\"checked\\\" fxFlex=\\\"50px\\\" value=\\\"E\\\">Editor</md-radio-button>\\r\\n                <md-radio-button fxFlex=\\\"50px\\\" value=\\\"O\\\">Just admin:)</md-radio-button>\\r\\n            </md-radio-group>\\r\\n        </div>\\r\\n        <button md-raised-button [disabled]=\\\"!f.form.valid || ngRepeatPass.value !== ngPass.value\\\" color=\\\"primary\\\" fxFlexAlign=\\\"center\\\" class=\\\"btn\\\">SignIn</button>\\r\\n      </form>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/+admin-registration/admin-registration.component.html\n// module id = 445\n// module chunks = 1"],"sourceRoot":""}